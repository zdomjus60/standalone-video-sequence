# Standalone Video Sequence

A **standalone executable** that plays a sequence of short videos **with synchronized audio**, running on **Windows** and **Linux** â€” no external video player required.

This project is ideal for artistic installations, interactive kiosks, presentations, or any scenario where automatic and seamless video playback with dedicated or continuous audio is required.

## Features

-   **No external video player required:** Everything is handled by the executable.
-   **Single executable file:** Distributed as a single `.exe` file (Windows) or binary (Linux) thanks to PyInstaller.
-   **Synchronized audio playback:** Supports dedicated audio tracks for each video or a continuous audio track for a group of videos.
-   **Smooth transitions:** Implements audio fades for smoother transitions between videos.
-   **Simple configuration:** The playback sequence is defined via a simple text file (`videolist.txt`).
-   **Cross-platform compatibility:** Works on Windows and Linux operating systems.

## Development Requirements

To develop or recompile the project, you will need:

-   Python 3.x
-   `opencv-python`
-   `pygame`
-   `pyinstaller`
-   **FFmpeg:** Required for extracting audio from video files (see "Audio Extraction" section).

You can install Python dependencies with pip:

```bash
pip install opencv-python pygame pyinstaller
```

## Usage

1.  **Prepare your videos:** Ensure your video files are in a compatible format (e.g., `.mp4`).
2.  **Prepare audio (Optional):**
    *   If your videos already have embedded audio tracks or you prefer separate audio files, ensure they are in the same format (e.g., `.mp3`).
    *   You can use the `extract_audio.py` script to extract audio from your video files (see "Audio Extraction").
3.  **Configure `videolist.txt`:** Modify the `videolist.txt` file to define the playback sequence.

    ### `videolist.txt` Format

    Each line in `videolist.txt` represents an item in the playback sequence. Empty lines or lines starting with `#` are ignored.

    #### Video with Dedicated Audio

    To play a video with a specific audio file:

    ```
    video_file.mp4, audio_file.mp3
    ```

    *   `video_file.mp4`: The path to the video file.
    *   `audio_file.mp3`: The path to the audio file to play with this video. If omitted, the video will play silently. If the field is empty (e.g., `video_file.mp4,`), the system will look for an audio file with the same name as the video but with a `.mp3` extension (e.g., `video_file.mp3`).

    #### Video Groups with Continuous Audio

    To play a sequence of videos with a single continuous audio track in the background:

    ```
    CONTINUOUS_AUDIO_GROUP, continuous_background_audio.mp3
    video1.mp4
    video2.mp4
    END_CONTINUOUS_AUDIO_GROUP
    ```

    *   `CONTINUOUS_AUDIO_GROUP, continuous_background_audio.mp3`: Starts a continuous audio block. `continuous_background_audio.mp3` is the audio file that will play for all videos within this group.
    *   `video1.mp4`, `video2.mp4`: The videos within the group.
    *   `END_CONTINUOUS_AUDIO_GROUP`: Ends the continuous audio block.

4.  **Run the program:**

    *   **From the Python script:**
        ```bash
        python standalone_video_with_audio.py
        ```
    *   **From the standalone executable:** Run the file generated by PyInstaller (e.g., `standalone_video_with_audio.exe` on Windows or `standalone_video_with_audio` on Linux).

## Audio Extraction

The `extract_audio.py` script allows you to automatically extract audio tracks from your video files and save them as `.mp3` files. This is useful if your videos do not have separate audio tracks or if you want to use a specific audio track.

**Requirement:** You must have **FFmpeg** installed and accessible in your system's PATH.

To extract audio from all `.mp4` files in the current directory:

```bash
python extract_audio.py
```

The script will create corresponding `.mp3` files (e.g., `video.mp4` -> `video.mp3`).

## Build the Standalone Executable

The project uses PyInstaller to create a single executable file.

1.  Ensure you have PyInstaller installed (`pip install pyinstaller`).
2.  Run the appropriate build script for your operating system:
    *   **Windows:**
        ```bash
        build_exe.bat
        ```
    *   **Linux:**
        ```bash
        ./build_exe.sh
        ```

    These scripts will use `standalone_video_with_audio.spec` to configure the PyInstaller build. The resulting executable will be found in the `dist/` directory.

## License

[TODO: Add license information, e.g., MIT, GPL, etc.]

## Contributions

Contributions are welcome! Please refer to the contribution guidelines (if any) or open an issue to discuss proposed changes.
